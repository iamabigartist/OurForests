---
id: 93g287ph2qwq8e2ayeukw60
title: 2022_4_11_整理了之前的所有过程和数据定义
desc: ''
updated: 1649693269147
created: 1649689364777
---

## 目前要开始重新写旋转信息了

旋转信息相关的数据一共三个，texture_id的获取，uv_index的获取，以及是否要根据方块旋转信息旋转顶点们。

## 目前得出的结论

- uv_index和vertex position的相互关联的处理，还是使用旋转顶点的方式最为直接，好debug。
- 但是旋转顶点不能解决如何获取texture_id的问题：
  - 因为每个面片的texture_id都是不一样的，不能通过旋转顶点来模拟texture的旋转。
  - 因此还是要使用之前的面旋转表生成器来取获取不同旋转信息下不同方向面所存储的原来的方向值。

Summary，总的来看，新的框架中写的顶点旋转表和旧的面旋转表实际上还是这些功能的两个必要组成，并没有重复。

## 之后

1. 删去旧的面旋转表中的顶点位置部分
2. 将需要的util先转变为内部util，有复数需求再写新的util。
3. 把旋转信息写完之后，mesh gen的CPU 部分就确定了一部分输出。
4. 另外一部分输出则是要解决block表，voxel_texture表的动态生成id。
   1. 由于volume_matrix生成本身就需要参照block config.
      1. 如果想要序列化并且下次读取的话，那么就必然要保证两次动态生成的id相同。那么可以按照每个包给一个id的offset，这样可以让id固定下来。
      2. 如果不这么做，那么每次生成的文件必须要由一个数字对照方块名称的表文件陪伴。读取的时候要把旧的id对应到新的id上面，然后转化数据。
      3. 实际上MC是禁止一个存档里面mod变更的，一部分原因就是因为有点方块读不出来。因此如果这么规定，那么只有在跨存档的地图转移的时候才需要做这样一个特殊的工具。
