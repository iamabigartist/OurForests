---
id: k39cmt3y1vtr8s1xj20yu9r
title: 2022_4_12_关于使用source_cube的问题
desc: ''
updated: 1649744580545
created: 1649742966354
---

## 决定

目前来看，face_rotation_table本身并不足以支持对于face的旋转计算。因此还是选择使用之前的那种顶点旋转来做。

## 问题

然而，之前这套顶点旋转有一个问题，是关于压缩位置的。
那就是quad和vertex所使用的压缩位置的单位会不一样。
目前vertices里面使用的是一个长为2的cube，每个点是`(+-1，+-1，+-1)`
但是quad最好的情况是使用以1为单位的点，这样子可以直接把坐标传进来。

因此最好的方法还是把quad的位置当作一个左下右的原点。把顶点当作一个offset。
并且100x100x100的chunk，会一共有101x101x101的vertices。
因此quad的位置压缩长度应当是100，而vertices应当是101。
在压缩解压缩的时候使用floor，可以保证数据的准确。

